// var _0xf834=["\x69\x6E\x69\x74","\x74\x68\x72\x69\x6C\x6C\x65\x72","\x67\x65\x74\x61\x70\x70","\x67\x65\x74\x53\x65\x6C\x65\x63\x74\x56\x61\x6C\x75\x65","\x76\x61\x6C","\x6F\x70\x74\x69\x6F\x6E\x3A\x73\x65\x6C\x65\x63\x74\x65\x64","\x65\x6D\x70\x74\x79","\x2E\x66\x6C\x65\x78\x2D\x63\x6F\x6E\x74\x61\x69\x6E\x65\x72","\x63\x68\x61\x6E\x67\x65","\x73\x65\x6C\x65\x63\x74","\x64\x61\x74\x61","\x64\x69\x73\x70\x6C\x61\x79\x61\x70\x70","\x61\x76\x65\x72\x61\x67\x65\x52\x61\x74\x69\x6E\x67","\x61\x74\x74\x72\x69\x62\x75\x74\x65\x73","\x3C\x64\x69\x76\x20\x63\x6C\x61\x73\x73\x3D\x22\x63\x6F\x6E\x74\x61\x69\x6E\x65\x72\x22\x3E\x0D\x0A\x0D\x0A\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x3C\x64\x69\x76\x20\x63\x6C\x61\x73\x73\x20\x3D\x22\x77\x6F\x72\x64\x73\x22\x3E\x0D\x0A\x0D\x0A\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x3C\x68\x32\x20\x63\x6C\x61\x73\x73\x3D\x22\x6E\x61\x6D\x65\x22\x3E\x20","\x65\x6E\x5F\x6A\x70","\x74\x69\x74\x6C\x65\x73","\x3C\x2F\x68\x32\x3E\x0D\x0A\x0D\x0A\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x3C\x70\x3E\x20\x54\x68\x69\x73\x20\x69\x73\x20\x61\x20","\x73\x68\x6F\x77\x54\x79\x70\x65","\x20\x66\x65\x61\x74\x75\x72\x65\x20\x3C\x70\x3E\x0D\x0A\x0D\x0A\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x3C\x70\x20\x63\x6C\x61\x73\x73\x20\x3D\x22\x72\x61\x74\x65\x22\x3E\x20\x49\x74\x27\x73\x20\x61\x76\x65\x72\x61\x67\x65\x20\x72\x61\x74\x69\x6E\x67\x20\x69\x73\x20\x3C\x73\x70\x61\x6E\x3E\x20","\x20\x3C\x2F\x73\x70\x61\x6E\x3E\x20\x3C\x70\x3E\x0D\x0A\x0D\x0A\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x3C\x70\x3E\x20\x4E\x75\x6D\x62\x65\x72\x20\x6F\x66\x20\x65\x70\x69\x73\x6F\x64\x65\x73\x3A\x20","\x65\x70\x69\x73\x6F\x64\x65\x43\x6F\x75\x6E\x74","\x3C\x70\x3E\x0D\x0A\x0D\x0A\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x3C\x70\x20\x63\x6C\x61\x73\x73\x3D\x22\x72\x61\x74\x69\x6E\x67\x22\x3E\x20\x43\x6F\x6E\x74\x65\x6E\x74\x20\x72\x61\x74\x69\x6E\x67\x3A\x20","\x61\x67\x65\x52\x61\x74\x69\x6E\x67\x47\x75\x69\x64\x65","\x3C\x70\x3E\x0D\x0A\x0D\x0A\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x3C\x2F\x64\x69\x76\x3E\x0D\x0A\x0D\x0A\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x3C\x64\x69\x76\x20\x63\x6C\x61\x73\x73\x3D\x20\x22\x69\x6D\x61\x67\x65\x22\x3E\x0D\x0A\x0D\x0A\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x3C\x69\x6D\x67\x20\x63\x6C\x61\x73\x73\x3D\x22\x70\x6F\x73\x74\x65\x72\x22\x20\x73\x72\x63\x3D\x27","\x6C\x61\x72\x67\x65","\x70\x6F\x73\x74\x65\x72\x49\x6D\x61\x67\x65","\x27\x3E\x0D\x0A\x0D\x0A\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x3C\x2F\x64\x69\x76\x3E\x0D\x0A\x0D\x0A\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x3C\x64\x69\x76\x20\x63\x6C\x61\x73\x73\x3D\x22\x6F\x76\x65\x72\x6C\x61\x79\x22\x3E\x0D\x0A\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x0D\x0A\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x3C\x70\x20\x63\x6C\x61\x73\x73\x3D\x22\x73\x75\x6D\x6D\x61\x72\x79\x22\x3E","\x73\x79\x6E\x6F\x70\x73\x69\x73","\x3C\x70\x3E\x0D\x0A\x0D\x0A\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x3C\x2F\x64\x69\x76\x3E\x0D\x0A\x0D\x0A\x09\x09\x09\x09\x09\x09\x09\x09\x3C\x2F\x64\x69\x76\x3E","\x61\x70\x70\x65\x6E\x64","\x66\x6F\x72\x45\x61\x63\x68","\x74\x68\x65\x6E","\x68\x74\x74\x70\x73\x3A\x2F\x2F\x6B\x69\x74\x73\x75\x2E\x69\x6F\x2F\x61\x70\x69\x2F\x65\x64\x67\x65\x2F\x61\x6E\x69\x6D\x65\x3F\x70\x61\x67\x65\x5B\x6C\x69\x6D\x69\x74\x5D\x3D\x32\x30\x26\x70\x61\x67\x65\x5B\x6F\x66\x66\x73\x65\x74\x5D\x3D\x31\x30\x30\x26\x66\x69\x6C\x74\x65\x72\x5B\x63\x61\x74\x65\x67\x6F\x72\x69\x65\x73\x5D\x3D","\x47\x45\x54","\x6A\x73\x6F\x6E","\x61\x6A\x61\x78","\x72\x61\x74\x69\x6E\x67\x52\x61\x6E\x6B","\x73\x6F\x72\x74","\x68\x69\x64\x65","\x2E\x70\x6F\x70\x75\x70","\x63\x6C\x69\x63\x6B","\x2E\x65\x78\x69\x74","\x73\x6C\x6F\x77","\x74\x6F\x67\x67\x6C\x65","\x2E\x74\x73","\x68\x6F\x76\x65\x72","\x2E\x74\x73\x75","\x2E\x6B\x75","\x2E\x6B\x75\x75","\x2E\x64\x61","\x2E\x64\x61\x6E","\x2E\x79\x61","\x2E\x79\x61\x6E","\x2E\x75\x74","\x2E\x75\x74\x73","\x2E\x75\x6E","\x2E\x75\x6E\x64","\x2E\x73\x61","\x2E\x73\x61\x64\x6F","\x2E\x6D\x61","\x2E\x6D\x61\x79\x61","\x2E\x6B\x61\x6E","\x2E\x6B\x61\x6E\x65","\x2E\x6B\x61\x6D","\x2E\x6B\x61\x6D\x69","\x2E\x62\x6F\x64","\x2E\x62\x6F\x64\x65","\x2E\x62\x61\x6B","\x2E\x62\x61\x6B\x61"];const app={};$(function(){app[_0xf834[0]]()});app[_0xf834[0]]= ()=>{app[_0xf834[2]](_0xf834[1]);app[_0xf834[3]]()};app[_0xf834[3]]= ()=>{$(_0xf834[9])[_0xf834[8]](()=>{const _0xbfe5x2=$(_0xf834[5])[_0xf834[4]]();$(_0xf834[7])[_0xf834[6]]();app[_0xf834[2]](_0xbfe5x2)})};app[_0xf834[2]]= (_0xbfe5x3)=>{$[_0xf834[36]]({url:_0xf834[33]+ _0xbfe5x3,data:{method:_0xf834[34],q:_0xbfe5x3,format:_0xf834[35]}})[_0xf834[32]]((_0xbfe5x4)=>{let _0xbfe5x5=(_0xbfe5x4[_0xf834[10]]);app[_0xf834[11]](_0xbfe5x5);_0xbfe5x5[_0xf834[31]]((_0xbfe5x6)=>{let _0xbfe5x7=_0xbfe5x6[_0xf834[13]][_0xf834[12]];if(_0xbfe5x7> 70){$(_0xf834[7])[_0xf834[30]](`${_0xf834[14]}${_0xbfe5x6[_0xf834[13]][_0xf834[16]][_0xf834[15]]}${_0xf834[17]}${_0xbfe5x6[_0xf834[13]][_0xf834[18]]}${_0xf834[19]}${_0xbfe5x6[_0xf834[13]][_0xf834[12]]}${_0xf834[20]}${_0xbfe5x6[_0xf834[13]][_0xf834[21]]}${_0xf834[22]}${_0xbfe5x6[_0xf834[13]][_0xf834[23]]}${_0xf834[24]}${_0xbfe5x6[_0xf834[13]][_0xf834[26]][_0xf834[25]]}${_0xf834[27]}${_0xbfe5x6[_0xf834[13]][_0xf834[28]]}${_0xf834[29]}`)}})})};app[_0xf834[11]]= function(_0xbfe5x8){_0xbfe5x8[_0xf834[38]]((_0xbfe5x9,_0xbfe5xa)=>(_0xbfe5x9[_0xf834[13]][_0xf834[37]]> _0xbfe5xa[_0xf834[13]][_0xf834[37]])?1:-1)};$(_0xf834[42])[_0xf834[41]](function(){$(_0xf834[40])[_0xf834[39]]()});$(_0xf834[47])[_0xf834[46]](function(){$(_0xf834[45])[_0xf834[44]](_0xf834[43])});$(_0xf834[49])[_0xf834[46]](function(){$(_0xf834[48])[_0xf834[44]](_0xf834[43])});$(_0xf834[51])[_0xf834[46]](function(){$(_0xf834[50])[_0xf834[44]](_0xf834[43])});$(_0xf834[53])[_0xf834[46]](function(){$(_0xf834[52])[_0xf834[44]](_0xf834[43])});$(_0xf834[55])[_0xf834[46]](function(){$(_0xf834[54])[_0xf834[44]](_0xf834[43])});$(_0xf834[57])[_0xf834[46]](function(){$(_0xf834[56])[_0xf834[44]](_0xf834[43])});$(_0xf834[59])[_0xf834[46]](function(){$(_0xf834[58])[_0xf834[44]](_0xf834[43])});$(_0xf834[61])[_0xf834[46]](function(){$(_0xf834[60])[_0xf834[44]](_0xf834[43])});$(_0xf834[63])[_0xf834[46]](function(){$(_0xf834[62])[_0xf834[44]](_0xf834[43])});$(_0xf834[65])[_0xf834[46]](function(){$(_0xf834[64])[_0xf834[44]](_0xf834[43])});$(_0xf834[67])[_0xf834[46]](function(){$(_0xf834[66])[_0xf834[44]](_0xf834[43])});$(_0xf834[69])[_0xf834[46]](function(){$(_0xf834[68])[_0xf834[44]](_0xf834[43])})
	
// Below is the code to get and display data from kitsu.io 

const app = {};

$(function() {
app.init(); 
});

app.init = () => {
app.getapp('thriller');
app.getSelectValue();
};


app.getSelectValue = () => {
$("select").change(() => {
const selection = $("option:selected").val();
$(".flex-container").empty();
app.getapp(selection);
});
};


app.getapp = (query) => {
$.ajax({
url: 'https://kitsu.io/api/edge/anime?page[limit]=20&page[offset]=100&filter[categories]='+query, 
data:{
// reqUrl: 'https://kitsu.io/api/edge/anime?page[limit]=20&page[offset]=100&filter[categories]='+query, 
method: 'GET', 
q: query,
format: 'json'
}}).then((result) => { 

    let alldata = (result['data']) 

    app.displayapp(alldata);  

    alldata.forEach((obj) => {  

    let average = obj.attributes.averageRating;

    if (average > 70) {  // this ensures that only animes whose average rating is above 70 get displayed

            $('.flex-container').append (

                `<div class="container">

                        <div class ="words">

                            <h2 class="name"> ${obj.attributes.titles.en_jp}</h2>

                            <p> This is a ${obj.attributes.showType} feature <p>

 			    <p class"rate"> It's average rating is <span> ${obj.attributes.averageRating} </span> <p>

                            <p> Number of episodes: ${obj.attributes.episodeCount}<p>

                            <p class="rating"> Content rating: ${obj.attributes.ageRatingGuide}<p>

                        </div>

                        <div class= "image">

                            <img class="poster" src='${obj.attributes.posterImage.large}'>

                        </div>

                        <div class="overlay">
                            
                            <p class="summary">${obj.attributes.synopsis}<p>

                        </div>

                </div>`);

                }

});

});
}


// The code below ensures that the highest rated anime appear on top

app.displayapp = function(da) { 
da.sort((a, b) => (a.attributes.ratingRank > b.attributes.ratingRank) ? 1 : -1)
}

// the code below ensures that the the meaning of the japenese words on the left of the landing page
// appear only when the word is hovered over

$( ".tsu" ).hover(function() { 
$(".ts" ).toggle("slow"); 
});

$( ".kuu" ).hover(function() { 
$(".ku" ).toggle("slow"); 
});

$( ".dan" ).hover(function() { 
$(".da" ).toggle("slow"); 
});

$( ".yan" ).hover(function() { 
$(".ya" ).toggle("slow"); 
});

$( ".uts" ).hover(function() { 
$(".ut" ).toggle("slow"); 
});

$( ".und" ).hover(function() { 
$(".un" ).toggle("slow"); 
});

$( ".sado" ).hover(function() { 
$(".sa" ).toggle("slow"); 
});

$( ".maya" ).hover(function() { 
$(".ma" ).toggle("slow"); 
});

$( ".kane" ).hover(function() { 
$(".kan" ).toggle("slow"); 
});

$( ".kami" ).hover(function() { 
$(".kam" ).toggle("slow"); 
});

$( ".bode" ).hover(function() { 
$(".bod" ).toggle("slow"); 
});

$( ".baka" ).hover(function() { 
$(".bak" ).toggle("slow"); 
});
